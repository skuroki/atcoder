# ABC20

AとBしか解けませんでした。パフォーマンスは過去最低の167、痛恨です。

## A

全員違う手であいこになるパターンしか考慮できてなく1ミス。せめてテストケースを実行せずとも読むべきでした。

## B

`puts A.map { |x| [x-10, 0].max }.sum` rubyらしいシンプルさで書けたと思います。

## C

テストケース4つでTLEになる状態から改善できないままタイムアップでした。

木構造かなと思ったんですが、ループになるケースがあったり、別々に作った木が途中で合体するケースがあるのを整理していける気がしなかったので、出発地点×到達地点のboolean行列で書き始めました。ですがこれでは計算量がO(M^3)みたいになるケースがあって、わかっていつつ、書いたあとに改善することで突破できるのではと思い、書き進めました。しかし結局改善はできませんでした。

実際は最初のところが良くなくて、「木は出発地点別に考えるので途中で合体しない」「ある地点から到達可能な地点を網羅することが目的なので、ループができる場合その先は無視して良い」ということに気づく必要がありました。ある地点から「一手で」到達可能な地点を最初に整理して中間データを作る、というのも重要で、これは道を1本づつ読み込んで行列にルートを構成していくという発想からはたどり着きにくいものでした。

戦術面では「10分くらいで一旦Dに移ってみる（先週はできてた）」、戦略面では「モチベーションが大きく減退するような事がおきにくいようなコンディションで開始する」ということもあったかなと思います。
