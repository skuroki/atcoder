# ABC205

ノーミスで4完は今回が初だった気がします。Cすら解けなかった前回からなんとか持ち直した感ですが、問題ガチャの結果が良かっただけという気もしていて。

## A

問題の通りの計算。100で割るときに `/ 100.0` と書けばfloatで計算してくれるのがポイントですね。

## B

「並び替えによって得られる」は本文なら「各数値が1回づつだけ使われている」と同じになります。

いずれかの数値が2回使われていると、いずれかの数値が1回も使われないことになるので、A.uniqすると配列が縮みます。

なので、縮まない配列は「並び替えによって得られる」とみなせるわけです。

## C

掛ける回数は同じなので、

* 掛ける回数が奇数ならもともとの数が大きいほうが大きくなる
* 掛ける回数が偶数ならもともとの数の絶対値が大きいほうが多くなる

です。が、絶対値を書くのが面倒だったので、絶対値を「もともとの値の2乗」に差し替えて解きました。

## D

たとえば除外する数が 3 5 6 7 のとき、場外された数列の、除外されず連続した数値について、それぞれその先頭を

* 0番目は0（番兵）
* 3番目は4
* 4番目は8

というのを記録した配列を作って、探したい番目がどの要素の後ろであるかを二分探索で探せば良い

のですが、初めて使うbsearch（rubyで10年以上仕事してるのに！）の特性を理解できておらずエンバグしてしまい、その対処に30分以上取られてしまいました。残念。

## E

時間がなかったので机上でだけ考えました。

たぶん、しきい値でざっくり切れているパスカルの三角形を作っていく、というような計算で行けそうな気はしました。
